<sec_map><section><chunk>Proceedings of the 14th Meeting on the Mathematics of Language (MoL 14), pages 2638, Chicago, USA, July 2526, 2015. c 2015 Association for Computational Linguistics Topology of Language Classes Sean A. Fulop Dept. of Linguistics California State University Fresno sfulop@csufresno.edu David Kephart Link-Systems International dkephart@link-systems.com Abstract The implications of a specific pseudometric on the collection of languages over a finite alpha- bet are explored. In distinction from an ap- proach in (Calude et al., 2009) that relates to collections of infinite or bi-infinite sequences, the present work is based on an adaptation of the Besicovitch pseudometric introduced by Besicovitch (1932) and elaborated in (Cat- taneo et al., 1997) in the context of cellular automata. Using this pseudometric to form a metric quotient space, we study its proper- ties and draw conclusions about the location of certain well-understood families of languages in the language space. We find that topolo- gies, both on the space of formal languages itself and upon quotient spaces derived from pseudometrics on the language space, may of- fer insights into the relationships, and in par- ticular the distance, between languages over a common alphabet. </chunk></section><section><heading>1 Introduction </heading><chunk>The question of distance between languages, and comparison of possible definitions, has relatively less consideration in the literature than other lan- guage issues, with notable exceptions being (Bers- tel, 1973) and (Salomaa and Soittola, 1978). This may seem surprising, considering that the current digital climate necessitates the measurement of like- ness between texts and languages, for instance in search engine entries and results. Ad hoc measures of differences exist based upon rooted tree distances, but these are more like attempts to incorporate the intuitive notion of differences between words than overall differences between languages. In Linguis- tics, as well, there is as yet no accepted way of mea- suring the distance between two dialects of a lan- guage, with each employing the same vocabulary. This paper borrows a pseudometric from cellular automata theory to use language density and form a topology on the set of languages (consisting of words of finite length over a fixed alphabet). A similar pseudometric is discussed in (Cattaneo et al., 1997). Our goal is to continue a systematic re- view and categorization of language distances, with a view to determining what gives rise to apparent weaknesses and strengths of each. As seen in (Sa- lomaa and Soittola, 1978) and (Yu, 1997) language density is understood as the number of words in a language, conceived of as a function (n) of word length n. This is shown to convey information about the nature of a language. Analysis of language den- sity over finite words may be confined to the treat- ment of regular languages (Yu, 1997; Kozik, 2005), or seen as a probability density of distance between infinite sequences (Kozik, 2006). Herein we continue the approach of (Kozik, 2006) of capturing distances between arbitrary languages, specifically by looking at features of the topology generated by each. We consider that languages natural or formalare most beneficially understood as potential or actually infinite objects. As such, lan- guage patterns may or may not be adequately de- fined syntactically. We continue the work of Kozik in grasping language differences as word density of distinctions at the limit. Since such a limit may not exist, we look at a pseudometric inspired by Besi- covitch (1932) that captures, in fact, the upper den- sity limit of language differences. Next, we consider where, in the resulting Besi- covitch topology of the language space, individual 26 languages lie. We also look at how this relates to the Chomsky hierarchy of languages. We find that the pseudometric space of languages is not complete, and look at the lifting of the pseudometric to a quo- tient metric space. The hope is that this considera- tion may contribute to a list of relative advantages and disadvantages associated with various candidate language topologies. Our contribution is thus con- ceived as a part of a broader exploration in search of the most useful topology of language spaces, with eventual application to linguistic problems like mea- suring the distance between dialects over a common vocabulary. We have tried to study the Besicovitch topology and its quotients in some detail, but some proofs have been condensed to outlines due to space limitations. </chunk></section><section><heading>1.1 Early approaches </heading><chunk>Nelson (Nelson, 1980) elaborated work by Wal- ter (Walter, 1975) which constructed a topologi- cal space from a space of rewriting grammars by means of successive divisors of grammatical deriva- tions. The resulting topologies of both languages and grammatical derivations are equivalent to quasi- ordered sets, and have the property that each point has a smallest open neighborhood. If such a topol- ogy is T 1 then it is discrete. An equivalence relation between languages was suggested by Marcus (Marcus, 1966; Marcus, 1967) based on equivalence of word contexts. Improved and elaborated by Dinc a (Dinc a, 1976), this ap- proach treats the space of languages as a semigroup over the alphabet, and a distance in the quotient space (dividing by context equivalence) measures the distance between context classes of strings with respect to some chosen language. The above described approaches, while not with- out interest where linguistic applications are in view, do not yield a sufficiently smooth topology of a language space. The first approach similar in spirit to our main thread was published by Vianu (1977), who applied the metric proposed earlier by Bod- narch uk (1965). This approach has a number of vari- ants, but we will point out the most important con- clusions to be drawn from them as well as possible limitations of this approach. </chunk></section><section><heading>1.2 Current literature on language topologies and distances </heading><chunk>Language spaces allowing infinitary words, on the other hand, can be more easily endowed with ad- equate topologies arising out of the word topology (Calude et al., 2009), but this will not be a topic of discussion here because there seems to be no appli- cation of infinitary word languages to the study of natural human languages. </chunk></section><section><heading>2 Preliminaries </heading><chunk>In this section we review some basic definitions from formal language theory and review the best- known approach to language distance, namely, what we will call the Cantor metric. </chunk></section><section><heading>2.1 Notation and Definitions </heading><chunk>For the most part, we adopt notation common to for- mal language theory. There are a few modifications in the interest of brevity and, hopefully, clarity of ex- pression. We consider a language as a set of words which are concatenated from symbols in an alpha- bet with finite cardinality . We will deal only with words of finite length (as opposed to the words discussed, for instance, in (Calude et al., 2009)). By a language space we mean the collection of all pos- sible languages, namely, 2 . Sets. We frequently employ the symmetric set dif- ference of sets A and B, denoted A B. Words. The length of word w will be denoted |w| and will always be non-negative. The empty word, which is the unique word of length zero, will, as usual, be denoted . When we need to refer to the ith symbol of the word w, we will denote this by w [i] , preserving ordinary subscripts for the enu- meration of words. The fundamental operation on symbols is (non-commutative) concatenation, which is represented multiplicatively. We use the Kleene- (-star) and -+ (-plus) operations in the usual way. Moreover, n denotes the set of all words of length n, and &lt;n denotes the set of all words of lengths up to n 1. Languages. The empty language is simply the null set, . Concatenation extends from words to languages. That is, if L and M are languages, then LM = {uv : u L, v M }. Suppose L is a language over and n N {0}. Then we de- 27 note by L n (respectively L &lt;n , for n &gt; 0) the set L n (respectively, n1 i=0 L i ). For example, L 0 is either or {}. The density of language L is the se- quence { n } nN such that i = |L i |. Then |L &lt;n | is the nth partial sum of the series . Finally, given languages L and M , we denote by L n M (respec- tively, L &lt;n M ) the symmetric set difference be- tween words of length n (respectively, less than n) in the two languages. Remark 1. Note that | &lt;n | = n 1 1 . (1) </chunk></section><section><heading>2.2 Language norms, metrics and the Cantor space </heading><chunk>In setting out to find ways to adequately express the distance between two languages, we consider how to adapt the notions of size and separation into the realm of formal symbols. We already observe that the first defined language distance, i.e., the dis- tance between two languages, in the literature, de- rives from the density of their symmetric set dif- ference. The metric mentioned by (Vianu, 1977) is based on the shortest word in L M . Indeed, this leads to a full metric, and a metric topology on 2 . By analogy to the norm in a normed space represent- ing distance from a zero point, and hence magnitude, a language norm can be elaborated from a pseudo- metric. The reader will recall that a pseudometric d on space X is a function that maps X X to R 0 , such that d(x, x) = 0, d(x, y) = d(y, x) and d(x, y) + d(y, z) d(x, z). We call a pseudomet- ric a language distance just in case it additionally is such that, if L N = and M N , then d(L, M ) d(L, N ). Then, to every language distance we may asso- ciate a function d : 2 R 0 by defining L d = d(L, ). Note that d has the following properties: d = 0 (2) L M d L d + M d (3) L M = L M (4) We define a language norm as any such function on languages. Lemma 2. To each language norm there cor- responds a unique language distance d such that d(L, M ) = L M . The contrapositive of Lemma 2 also holds. That is, for any language distance d on 2 , the function : 2 R 0 such that L = d(L, ) defines a unique language norm. </chunk></section><section><heading>2.3 The Cantor language metric and topology on 2 </heading></section><section><heading>A Cantor language space </heading><chunk>Two languages can be compared by beginning with the shortest word in each language and pro- ceeding to longer words. A first notion of distance is obtained using the word-length of the first distinc- tion between languages so observed. To this end, let the language space then be normed by assigning the norm 0 to and by associating each non-empty language to a power of 1/2, as follows. Definition 3. The language norm 1 : 2 R is as follows: for L 2 , L 1 = 0 if L = , 2 min{|w|:wL} otherwise. (5) Observe that log 2 L 1 N for all non-empty </chunk></section><section><heading>L. To this language norm corresponds the following language metric. </heading><chunk>Definition 4. The function d 1 : 2 2 R is a metric, where, for L and M in 2 , d 1 (L, M ) = L M 1 To see that d 1 is in fact not only a pseudomet- ric but a metric, consider that d 1 (L, M ) = 0 iff L M = , i.e., iff L = M . Let 1 be the metric topology induced on 2 by d 1 . For reasons to be made clear below, we call 1 , d 1 , and 1 the Can- tor norm, distance, and topology, respectively, on a language space. The open neighborhoods of radius o &gt; 0 around some language L 2 , denoted B o (L) = {M 2 : d 1 (L, M ) &lt; o}, form the standard basis for 1 . Since distances between distinct languages are powers of 1/2, it follows that elements of the stan- dard metric basis for (2 , 1 ) form the collection C = {B 2 n (L) : n N, L 2 }. (6) 28 Definition 5 ((Vianu, 1977; Genova and Jonoska, 2006)). The language cylinder set C L,k of length k N around language L 2 is: C L,k def = {M 2 : L k = M k }. (7) Now let C k def = {C L,k : L 2 } be the col- lection of all language cylinder sets of length k. From (6) and (7) it follows that the collection C def = kN C k , comprising all language cylinder sets, is the standard basis for (2 , 1 ). Cantor topology on a language space As it turns out, 1 is equivalent to the topology of the Bodnarch uk metric space discussed in (Vianu, 1977). We quickly recap the properties of this topol- ogy on a language space, as proven in (Vianu, 1977) and (Genova and Jonoska, 2006). Lemma 6. In (2 , 1 ), every cylinder set is both closed and open. Lemma 7. A sequence {L i } iN 2 converges to language L in (2 , 1 ) iff for all m N, |(L i m L)| = 0 for all but finitely many i. In this case we write L i L. From this and the fact L i L we also have: Corollary 8. The finite languages are dense in a space of languages under the 1 topology. Lemma 9. The topological space (2 , 1 ) is home- omorphic to the Cantor space. Thus the terminology Cantor language space, topology, etc. 1 Corollary 10. (2 , 1 ) is compact, perfect, and to- tally disconnected. 3 Besicovitch pseudometric, language norm and topology We now consider a language distance that is in many respects more satisfactory than the Cantor distance 1 As pointed out by an anonymous reviewer, the Cantor topology can be understood as the profinite completion of an algebra of recognizable languages (Gehrke, 2009). While this does not modify the topological characteristics of the space, it does raise the interesting point that the Besicovitch topology, the main subject of this paper, likely cannot be so conceived: the Besicovitch metric (quotient) space is not complete, by Corol- lary 31. d 1 , by exploiting the general philosophy of compar- ing languages by comparing finite sections of lan- guages. We then show several results, including that neither finite nor locally testable languages are dense in the topology induced. We call this alternative pseudometric the Besicovitch distance, denoted by d . Under the topology induced, a language space is not compact. Rather, it has a geometry which be- comes apparent from the vantage point of a metric quotient space. The original Besicovitch pseudometric expressed the distance between two almost-periodic real- valued functions (Besicovitch, 1932) , l 1 as d B p (, ) def = lim sup n 1 2n + 1 n n |(x) (x)|. Because this pseudometric depends on the evalu- ation of the two functions only at discrete inter- vals, it is naturally adaptable to expressing distances between objects with a bound proportion of dif- ferences, as with the distance between cellular au- tomata (Cattaneo et al., 1997); our adaptation to lan- guages is in some sense a generalization thereof. 3.1 A Besicovitch pseudometric on language spaces We begin by defining a Besicovitch-style language norm. Rather than halting at a particular term of the density of the symmetric set difference between two languages, this norm considers the derived infinite series |L &lt;n M | in ratio to the total possible words over (given by (1)) as n goes to infinity. Definition 11. Let for fixed alphabet be the function defined: L def = lim sup k |(L &lt;k )| | &lt;k | (8) We call the Besicovitch language norm. Then let d be the function mapping (L, M ) to L M , and call it the Besicovitch language dis- tance. By Lemma 2, distance d is a language pseudo- metric. Remark 12. The Besicovitch distance d between languages 29 1. can be described as the upper density of their set-difference; 2. turns out to constitute (like the Besicovitch lan- guage norm) a continuous, surjective mapping of 2 into the unit interval [0, 1]; 3. for a language and its complement is 1, since (L k ) (L k ) = k for every k N; 4. constitutes a strict pseudo-metric if || &gt; 1, since, for instance, M = 0 where M = {a}, so d (M, ) = 0 even though M = ; 5. given languages L, M 2 , can be written as follows: d (L, M ) = lim sup k L &lt;k M 1 k 1 We present the following without proof. Lemma 13. If L and M are disjoint languages in 2 , then L + M = L M . Corollary 14. For L, M 2 , L + M = L M if and only if L M = 0. Corollary 15. For all L, M 2 , L +M L M . The conclusion here is that is truly norm- like. For the remainder of this section, we drop most subscripts . To establish surjectivity, we first need a way to construct a language with a specified arbitrary norm. Definition 16. Given 0 r 1, consider the se- quence r def = {r k } kN . Then we call L r the set of r-simple languages in 2 , defined as follows: L r def = L 2 : {|(L i )|} iN = r . Lemma 17. For r [0, 1] there is at least one r-simple language; moreover for each particular value r, every r-simple language has norm r. Proof. By construction, for each r [0, 1] the se- quence r exists. We can select r k words in k for all k. This amounts to the construction of a language L in L r for each r [0, 1]. But then L = r, which establishes the claim. Now we have established our hoped-for result. Corollary 18. The Besicovitch language norm is a surjective mapping from 2 onto [0, 1]. In addition, it is relatively easy to see that diag- onalization yields that there are uncountably many r-simple languages for each r [0, 1]. </chunk></section><section><heading>3.2 Besicovitch distance quotient space </heading><chunk>The Besicovitch distance equivalence induces a quotient space on 2 We next form collections of languages at distance zero from each other and map each such collection to a point in a quotient space, which can then be metrized. So, given L, M 2 , let L M if d (L, M ) = 0. Proposition 19. The relation is an equivalence on 2 . Proof. Reflexivity and symmetry are apparent and, if L, M, N 2 such that L M and M N , then 0 = d(L, M ) + d(M, N ) d(L, N ). From Remark 12(1), L N . The collection of equivalence classes will be called the Besicovitch quotient space over 2 , de- noted Q . Here we will drop the subscript for notational clarity and assume the language space 2 unless otherwise noted. Elements of the quo- tient space (points in Q) will be denoted with sans- serif letters L, M, N, . . ., while collections of such points will be denoted with corresponding bold let- ters L, M, N, . . . . Let : 2 Q denote the quo- tient mapping which takes a language to its equiv- alence class. Remark 20. As a partition of 2 , the mapping is well-defined and surjective, but not injective since it is a quotient mapping. The set operations of union, intersection and complementation are preserved by mappings from collections of points in Q to the sets of languages of which they are equivalence classes. In particular, every topology on Q is the quotient of a topology on 2 . When language L is a member of language family L, and every member of L is contained in an equiv- alence class in the collection of points L Q , we will write L L and L L instead of the more tedious (L) = L and (L) L. 30 Lemma 21. For languages L, M 2 , L M iff there exists a positive integer m such that, for infinitely many word-lengths n, |(L &lt;n M )| | &lt;nm |. Proof. () Suppose there is no such m. That would mean that, for each m N, there is a word length n m such that k &gt; n m implies |(L &lt;k M )| &lt; | km |. We can then construct an increasing se- quence {k i } iN where k 0 = 0 and k i (i &gt; 0) is the least integer greater than k i1 such that |(L &lt;k M | &gt; | &lt;k i | = k i1 j=0 | j | = k i 1 1 if k &gt; k i . But, if this were true, then the Besicov- itch distance between the two languages would be 0, since a straightforward calculation shows that, for each m N, d (L, M ) is bounded above by m . () Assume that, for some m N and for n sufficiently large, |(L &lt;n M )| | nm |. Then a similarly straightforward calculation shows that L M = lim sup k |L &lt;k M | | &lt;k | is bounded be- low by, for instance, m /2. Thus, L M . Note that when two languages are similar, the se- quence used in the first part of the proof is finite. Definition 22. Given languages L, M 2 , we will denote by K (L, M ) the (possibly finite) in- creasing integer sequence {k i } iN in accord with the above lemma. Indeed, K (L, M ) is infinite pre- cisely when L M . We note that if K (L, M ) has at least i terms, then k i &gt; i and, by considering the words in L M of length greater than m i , we have a first estimate of the distance between two languages, namely, i . By Lemma 21, the unique sequence K (L, M ) expresses the relative location of languages in the quotient space Q . The quotient space has a natural metric quotient topology We define the metric d on the Besicovitch quo- tient space as the lifting of Besicovitch distance d. Definition 23. Let the distance d be- tween points L and M in Q be set equal to inf d(L, M ) : L 1 (L), M 1 (M) . Lemma 24. For L, M Q , d (L, M) = 0 iff L = M. Proof. Only the implication left to right requires a proof. Suppose that d(L, M) = 0. Now suppose, contrary to the claim, that there is some language L L but not M. We conclude from the preced- ing definition 23 that there exists M M such that d(L, M ) = o &gt; 0. But then, for arbitrary languages L L and M M, the triangle inequality provides us that o d(L, M ) d(L, L ) + d(L , M ) + d(M , M ) d(L , M ). (9) Thus d(L, M) o/2 &gt; 0 by the preceding defini- tion, Q.E.A. Corollary 25. For L, M 2 the diagram below commutes, showing the isometry between Besicov- itch language space and quotient space. 2 2 / / d % % Q Q d z z R 0 It is by now evident that the Besicovitch quotient space is a metric space under distance d. Moreover we have: Corollary 26. If languages L, M are in point L Q , then L = M . This just means that the d metric topology on Q is the quotient of the pseudo-metric topology in- duced by d on 2 . Let denote the collection of open sets in Q under the d metric topology, and let denote the collection of language sets in 2 such that ( ) = . We will call the Besicovitch lan- guage topology. Convergence has a novel interpretation in the quotient space From Remark 12, the Besicovitch language topol- ogy is not T 1 , and so convergence to a language is not well-defined in (2 , ). But there is no such difficulty with the quotient space. Lemma 27. A sequence {L i } iN in Q converges to the point L Q iff the following: m N k m N such that i &gt; k m means that, if language L i L i and L L then there exists integer N i for which k &gt; N i implies |(L k L i )| &lt; km . 31 Note that, unlike the case of the Cantor space, in the Besicovitch language (quotient) topology, a con- vergent sequence of points converges to equiva- lence with the (languages in the) limit point. The quotient space is perfect but not compact We can next address the compactness question for the Besicovitch quotient space, since it is a met- ric space, by determining whether every infinite se- quence of points has a convergent subsequence. We ultimately show here that neither Q nor 2 is com- pact, although Q is a perfect set. We first establish the latter property using the fol- lowing fact. Lemma 28. Every point in (Q , ) is a condensation point. Proof. Every open set M in (Q , ) includes the image of an open interval in the subset topology of [0, 1] and, by a diagonalization, is uncountable. Each number in M has a distinct open inverse im- age in (Q , ). It then follows immediately that Q is perfect. To make progress on the compactness question, we construct a family of two-sided word ideals in which, when split into non-disjoint right ideals, yields an infinite sequence in the quotient space with no convergent subsequence. We will call I a right, left, or two-sided word ideal of the monoid just in case there is a word w such that I = w , I = w, or I = w respectively. Note this is just like the definition of ideal in a monoid (Howie, 1995) except we are restricting the reference to a sin- gleton set containing particular word w. Now let J w denote the two-sided word ideal w . Then for k N, the kth section of J w is k w J w , which is denoted J w,k . Lemma 29. For i, j N and where |w| = l, d(J w,i , J w,j ) = 2 l . (10) We can also compute the norm of J w,i when |w| = l: J w,i = lim sup k | i w &lt;kil | | &lt;k | = lim sup k kil1 s=0 i+s | &lt;k | = lim sup k kl i 1 k 1 1 = lim sup k l k 1 k 1 i+l 1 k 1 = l . (11) From Lemma 29 and the above calculation, taking J w,i def = (J w,i ), the sequence {J w,i } iN is such that no subsequence can converge, yet every language in each point of the sequence has the same norm. Lemma 30. The Besicovitch quotient space Q is not compact. Proof. It is sufficient to display an infinite sequence of languages belonging to distinct equivalence classes separated from each other by a distance greater than some fixed o &gt; 0. Then the -images of these languages will form an infinite sequence in Q which has no convergent subsequence. To this end, consider the language sequence J a def = {J a,i } iN where a . Two distinct terms J a,i and J a,j are at distance 2 1 , from the previous lemma, so consider the sequence L = {L i } iN , where J a,i L i for all i N. By Corol- lary 25, there is no convergent subsequence of L, since d(L i , L j ) &gt; 1 if i = j. Since sequential compactness is not defined in the pseudo-metric language space, we exhibit the fol- lowing result to clear up any remaining doubts about compactness there. Corollary 31. The metric d is not complete. Proof. (Outline) It suffices to exhibit a sequence of points which are Cauchy convergent in Q , but which do not converge to any point in Q . We then produce a sequence, Cauchy in Q, but containing the non-convergent sequence L from the proof of Lemma 30 as a subsequence. Corollary 32. A language space is not compact un- der the Besicovitch topology. Proof. Let O be an open cover of 2 defined by O = {{M : d(L, M ) &lt; 1 } : L 2 }. 32 We then have by Lemma 30 that any finite subset of O contains at most finitely many languages in J a . Therefore O has no finite subcover. While establishing noncompactness has been im- portant, it will also be useful to establish a relation to a known compact space. This is the subject of the next subsection. 3.3 A second lifting of the quotient space To obtain a compact space for exploring the most general features of the Besicovitch topology on lan- guage spaces, we define the language norm as a quotient map from Q into [0, 1]. This will result in a total of three spaces: the non-T 1 language space under the topology induced by Besicovitch distance, the quotient space topologized by the metric quo- tient topology, and a compact upper quotient space with a well-known topology. We proceed as with the definition of Q by defining an equivalence re- lation, the equivalence classes, and the quotient map which takes points in Q to their equivalence classes. We call the collection of equivalence classes the up- per Besicovitch quotient space, denoted N . We ul- timately show that the topological space N under the quotient topology is homeomorphic to the unit interval. Take points L, M Q . Let L M if L = M for all L L and M M; let L = {M Q : M L}, and denote by N the collection {L : L Q }, write elements of N in calligraphy font L, M, N , . . ., and denote collections of such el- ements in corresponding bold letters L, M, N , . . .; let be the map from Q to N which takes L to its equivalence class L . Finally, for r [0, 1], let r denote {L Q : L = r L L}. Remark 33. It is obvious that is an equivalence relation. Moreover, the quotient map is well- defined, by Corollary 26. Since r = M for each M r , this implies by Remark 12 that r = M for precisely one M N . We next equip the upper quotient space with a metric. Let the distance function : N N [0, 1] be defined such that, if L = r and M = s for some r, s [0, 1], then (L, M) = |r s| as a metric on N . The collection U of basis sets under the induced topology equals: {{L N : r L if |rs| &lt; o &gt; 0} : s [0, 1]}. (12) Remark 34. The set U is apparently equivalent to the subset topology on the unit interval. To wit, there is a homeomorphism between N and [0, 1] if the function induces the quotient topology on N . We continue to abuse the notation as was done with languages and the quotient space, and write L r or equivalently L L to mean language L is found in points of the equivalence class r . We write L r to mean that each language in the class L is in a point (not necessarily all in the same point) in the equivalence class r . We write L L to mean that the image ((L)) is a subset of the collection of elements L N . We will next show that, with exactly two exceptions, r is always an uncountable subset of Q . Lemma 35. The equivalence classes 0 and 1 are singletons in Q . Proof. The class 0 contains only the class (), since L = d(L, ). Thus, L 0 implies d(L, ) = 0, which implies L . On the other hand, suppose languages L and M and points L and M are such that L L and M M and L, M 1 . By Remark 12, L = M = 0, which we have just seen means L M . But since L\M = M \L, it is true that L M = L M . Therefore d(L, M ) = L M = L M = d(L, M ) = 0. Hence, L M . Since L, M were arbitrary, it follows that L = M and that 1 contains just a single point, viz. the equivalence class ( ). Since 1 is a singleton, given a point L there is ex- actly one point in Q at distance 1. If L, M Q and d(L, M) = 1, then points L, M will be called antipodes, which we denote as L = M. Lemma 36. Every point L Q has a unique an- tipode in the Besicovitch quotient space. Proof. From Corollary 25 this is the same as claim- ing that, if two languages are at distance 1 from the same language L L, then they are -equivalent. But this is a consequence of the identity (L M 1 ) (L M 2 ) = M 1 M 2 . (13) 33 We can show this because if d(L, M 1 ) = 1 and d(L, M 2 ) = 1, it follows that L M 1 and L M 2 are in 1 (from Def. 11), implying by Lemma 35 that d(L M 1 , L M 2 ) = 0, requiring M 1 M 2 . Corollary 37. For L 2 , L = 1 L. In addition we note that L 0 iff L 1, and also that L = L if and only if L = 1 2 for any language L L. For each point L Q , the L-rotation of point M Q , denoted L (M), is defined as the point (L M ) for some language L L. The L-rotation of the Besicovitch quotient space, denoted Q ,L , is then the collection { L (M) : M Q }. The L- rotation of the -equivalence class r, denoted r L , is defined as the set {M Q : d(M, L) = r}. The L-rotation of the upper Besicovitch quotient space, meaning the collection {r L : r [0, 1]}, will be denoted N ,L . Lemma 38. Q ,L is equivalent as a set to Q , and L-rotation is a bijection of the quotient space onto itself. Moreover, N ,L is a bijection with N . There are uncountably many equivalence classes, because the norm is surjective onto the unit interval. In addition, we now proceed to show that no open set in Q is contained in a single equivalence class. This is the essential condition for the proof that is the quotient of d. We begin with a straightforward proposition. Proposition 39. For L 2 where L = r and 0 s r( 1), there exists language M L such that M = s. Proof. For s = 0, let M = , Q.E.D. For s = r, let M = L, Q.E.D. Now assume s (0, r). Note that s/r &gt; 0; form language sequence L = {L i } iN , and using this define the integer sequence {m i } iN such that m i = (s/r)|(L i )|. (14) There exists a language sequence {M i } iN such that M i L i and |M i | = m i . Then we can calculate that 0 (s/r)|(L &lt;k )| = |(M &lt;k )| &lt; k, so M = (s/r)L = s, and M L; Q.E.D. Remark 40. The above result can be reversed, in that if 0 r s 1, then for any language L r there exists language M L such that M s. The target language is L in case 0 = r = s, in case s = 1, and in case s (0, 1) may be constructed as in Proposition 39 by inverting the fractions in (14) et seq. Lemma 41. No open set in Q is a subset of a equivalence class. Proof. Since Q is perfect, this follows for the classes 0 and 1 directly from Lemmas 35 and 28. Otherwise, suppose L 2 and L Q such that </chunk></section><section><heading>L L r. For any open set L Q containing </heading><chunk>L, there is a number o &gt; 0 such that d(L, M) &lt; o implies M L. It is sufficient to exhibit a language M M such that M = L and d(L, M ) &lt; o . Let o = min{r/2, o /2}. Note that o &gt; o &gt; 0. Our selection of o guarantees the following: 0 &lt; o &lt; r 1, which implies that 0 &lt; r o &lt; r (15) Then by Proposition 39 there is a language M L such that M = r o. But since r o &lt; r, M = L. It also follows that d(L, M ) = L M = L\M . However, L = M + L\M from Corollary 14. Thus d(L, M ) = L M = r (r o) = o. Corollary 42. If L is an open set in the Besi- covitch topological space and language L L, then there exists o &gt; 0 such that for every real number r (L o, L + o) [0, 1] there exists language M L such that M r. This corollary states that, under the Besicovitch topology, representatives of some continuous inter- val of norm values can be found in every open set in the language space. This means that, as was claimed in Remark 12(1), the language norm is a con- tinuous map from 2 onto [0, 1]. Theorem 43. The upper quotient space N is home- omorphic to (and so essentially is) the unit interval [0, 1]. Ideals simplify exploration of the elements of the upper quotient space Earlier we defined the (word) ideals of . To elaborate on this, recall the earlier discussion of 34 r-simple languages (v. Def. 16), and consider the monoid ideals of . Lemma 44. If real number r [0, 1], there exists a right ideal of in L r . Proof. If r = 1 then w = trivially satisfies the lemma. So we assume r (0, 1). Since by Def. 16 0 r 1 &lt; , there is a subset I 1 of (actually, at least subsets) such that |I 1 | = r 1 . Note from the definition of L r that r k r k &lt; r k + 1 for all k N. Multiplying through by gives the inequality r k r k+1 &lt; r k + . (16) But for k + 1 we have r k+1 = r k+1 r k+1 &lt; r k+1 + 1. (17) Since all values are non-negative integers we can combine the preceding two equations to yield r k r k+1 &lt; r k + . (18) It follows that r k+1 = r k + t k for some t k N such that 0 t k &lt; . Therefore for all k N, r k k+1 . Thus there exists language T 1 2 \I 1 such that |T 1 | = t 1 , so that |I 1 T 1 | = r 2 . Set I 2 = I 1 T 1 . Continuing in this fashion, let T k for each k N be a language such that T k k+1 \I k and |T k | = t k . Finally, for k N define language I 2 such that I k = I k , which is to say let I = iN I i . Then by construction, I L r , and w j I for all w I and every j N. Thus I I. The preceding result provides further evidence that right ideals are ubiquitous in the Besicovitch topological space. We now develop our understand- ing of the ideals to comprehend the elements of the upper quotient space. We begin by extending the no- tion of sections of a word ideal. Definition 45. An n-word ideal in the monoid is a language J F such that J F = w 1 w 2 . . . w n for some finite language F = {w 1 , w 2 , . . . , w n } over . Then f F = n i=1 |w i | is the length of F . If v = (v 1 , . . . , v n ) is a vector over N 1n , then the v- section of J F is denoted J F,v and is the right ideal defined as: J F,v = v 1 w 1 v 2 w 2 v 3 vn w n . Lemma 46. For every vector v over N 1n and every language F such that |F | = n, J F,v = f F . Proof. Let v 1 + v 2 + . . . + v n = S. Then when k f F + S, |J F,v k | = kf F . Therefore, lim k k1 i=0 if F |J F,v &lt;k | k1 i=0 i = lim k f F +S1 i=0 if F k1 i=0 i = lim k S 1 1 k 1 1 = 0, which implies that J F,v = f F . In addition to the above result, it is possible to ex- tend the proofs of Lemmas 44 and 30 to the n-word ideals by induction. Taken together, these results tell us that points in the upper quotient space contain languages that closely resemble unions of sections of ideals of , in the following sense: cardinal- ity of sections of these languages (as word length increases) must approximate the cardinality of the unions of (sections of) ideals. We conclude this section by showing that all classes except 0 and 1 are uncountable. Lemma 47. For any real number r (0, 1), the element r N is uncountable. Proof. From Lemma 44, there is an r-simple lan- guage L. In fact, there exist at least two r-simple languages, since for each r (0, 1), 0 |L k | &lt; r + 1 r 2 k = r + 1 2 k &lt; r k . This means that for k N there exists a subset of k \L = (L k ) consisting of the lesser of ei- ther r k or 1r 2 k words, and there exists a subset of L k consisting of the same number 35 of words. This means there exists an r-simple lan- guage at distance s = min{2r, 1 r} from L. We now construct this language in the following way: let t k = min r k , 1r 2 k ; let T k be a lan- guage such that |T k | = t k and T k (L k ), which is possible since |(L k )| 2t k ; and let F k L be such that |F k | = t k , which is pos- sible since t k |L k |. Let T = iN T i , F = iN F i , and let N = L\F . Then language L def = N T is the language formed by exchanging t k words in L for t k words in L. Thus the number of words in L k L is 2t k = s k for each k N. Hence, d(L, L ) = s and, since L and L contain the same number of words of each length, they have the same norm. Since L is r-simple, so is L . For all t R such that 0 t s, since s r there exists language F F L such that F = t/2, and there exists language T T = L L such that T = t/2 (by Proposition 39). Then it can be shown that if language L t def = (L\F ) T is such that L t = (L\F ) (F \F ) T = N (F \F ) T , so L t L = (T \T ) (F \F ). Thus d(L t , L ) = s t. </chunk></section><section><heading>3.4 The Chomsky hierarchy </heading><chunk>In this final section we show a few results which re- late our Besicovitch topologies to the classical lan- guage classes. The finite and locally testable languages are not dense A major inadequacy of the Cantor topology was the density of the finite languages. By contrast, these are confined to a single -equivalence class in the Besicovitch topology. Lemma 48. The finite languages are all in 0 . Proof. If language L is finite, there exists N N such that n &gt; N implies L n = , and hence also that |L n | = 0. This naturally leads to the question, addressed presently, what happens if the description of an infi- nite language is entirely finitary? We first remind the reader that a language L is locally testable just in case there is a fixed inte- ger k (called a window length) and a proper sub- set F k such that, if every factor of word w of length k is in F then w L. The important thing about the locally testable family is that the member- ship question Is w L? is decidable by inspect- ing subsequent k-length factors of w. We next define a larger class of generally testable languages with the property that every locally testable language is a subset of some generally testable language. Definition 49. A language L is generally testable if there exists a window length n N and a set of permitted factors S n , where L = S &lt;n . From this definition we see that word w L if and only if w &lt;n or w can be written u 1 u 2 u t v, where u i S for all i N t and v &lt;n . It is interesting that the size of a gen- erally testable language is not really limited, but yet we have the following result. Lemma 50. Every generally testable language in 2 is in 0 with the exception of , which is in 1 . Proof. (Outline) Let the permitted factors of a word in L be S n . If |S| = s, suppose s = n . But then S = n , L = , and therefore L 1 . On the other hand, if s &lt; n , and word w L, there exist unique non-negative integers q and r, such that |w| = nq + r and 0 r &lt; n, and words u 1 , u 2 , . . . , u q in S, and word v in r such that w = u 1 u 2 . . . u q vWe deduce that |L |w| | = s q r . We can therefore easily see that the proportion of the number of words L &lt;i to those in &lt;k is maxi- mized at word lengths where q = n 1, i.e., where i = nk + n 1. We conclude the following: L lim sup k i = 0 k s i |(| &lt;n | &lt;kn+n | . (19) By our assumption, s n 1. Straightforward cal- culation shows the right side of the above equation tends to zero, because it is bound above by lim sup k 1 2 ( n 1) k ( n ) k . Thus, L 0 . 36 Corollary 51. Every locally testable language be- longs to 0 . Proof. Suppose L is a locally testable language over with window length n and permitted factors S n . Consider the generally testable language L with the same window length and the same permit- ted factors as locally testable language L. Then L L and, by the properties of a language norm, L L ; meanwhile L = 0 from the preced- ing lemma. Regular languages are dense in the upper quotient space We have now seen that all finite and locally testable languages belong to 0 . On the other hand: Lemma 52. Regular languages are dense in the up- per quotient space N . Proof. Let r [0, 1]. The claim is that for all o &gt; 0 there exists a regular language L such that |L r| &lt; o. If o min{r, 1 r}, either or satisfies the claim, Q.E.D. So we assume that o &lt; min{r, 1 r}. Then r &lt; r + o &lt; 1. Let integers n and q be such that r &lt; q n r + o (q + 1) n , and 0 &lt; q &lt; n . From this we have 0 &lt; q n r &lt; o. (20) Let language S o n have cardinality q. Consider the right ideal S o , which is a disjoint union of the q right word ideals w with w S o . Note that each of these is a 1-word ideal section J F,v , where F = {w} for w S o and v = (0). Therefore by Lemmas 13 and 46, S o = wSo w = q n From (20) this means that |S o r| &lt; o as required. Finally, by the Myhill-Nerode Theorem (Nerode, 1958) S o is a regular language, since all but finitely many words in S o can be followed by . This means that the linear, context-free, context- sensitive, and recursively enumerable languages are all dense in the upper quotient space. We still do not know where all these families lie in the lower Besi- covitch topological spaces, but we conjecture that the regular languages are indeed also dense in the Besicovitch topology (2 , ). Non-r.e. languages are dense in both quotient spaces We can show fairly simply that the non- recursively enumerable languages are ubiquitous in the Besicovitch topological spaces. Because d is a strict pseudo-metric, the equivalence classes are uncountable. We present the following without their (uncomplicated) proofs due to space limitations. Lemma 53. The single element of the class 0 is un- countable in 2 and contains a non-r.e. language. Corollary 54. Every equivalence class contains a non-r.e. language. 4 Conclusion We have attempted to improve upon previous defi- nitions of distance between languages in a language space. After considering previous work by Vianu (1977) which defined a language distance using the density of their symmetric set difference, we pro- gressed to a new adaptation of a pseudometric in- spired by Besicovitch (1932). In a language space, the Besicovitch pseudometric was developed which is essentially the upper density of the set-difference between languages. By lifting to the quotient space Q using Besicovitch equivalence, a natural metric topology was developed and shown to be perfect but not compact. Another step of lifting brought us a compact upper quotient space N homeomorphic to the unit interval. The ideals of this upper space were studied, also invoking the notion of word ideal defined herein. In the last section it was shown that neither the finite nor locally testable languages are dense in N . Finally, the regular languages were shown to be dense in N , and the non-r.e. languages were shown to be dense in both Q and N . </chunk></section><section><heading>References </heading><chunk>J. Berstel. 1973. Sur la densit  e asymptotique de lan- gages formels. In International Colloquium on Au- tomata, Languages and Programming (ICALP, 1972), pages 345358. North-Holland. 37 A. S. Besicovitch. 1932. Almost Periodic Functions. The University Press. V. G. Bodnarch uk. 1965. The metrical space of events, part I. Kibernetika, 1(1):2427. C. S. Calude, H. J  urgensen, and L. Staiger. 2009. Topology on words. Theoretical Computer Science, 410:23232335. G. Cattaneo, E. Formenti, L. Margara, and J. Mazoyer. 1997. A shift-invariant metric on s Z inducing a non- trivial topology. In I. Privara and P. Rusika, ed- itors, Mathematical Foundations of Computer Sci- ence 1997, volume 1295 of LNCS, pages 179188. Springer-Verlag. A. Dinc a. 1976. The metric properties on the semigroups and the languages. In A. Mazurkiewicz, editor, Math- ematical Foundations of Computer Science 1976, vol- ume 45 of LNCS, pages 260264. Springer-Verlag. M. Gehrke. 2009. Stone duality and the recognisable languages over an algebra. In A. Kurz, M. Lenisa, and A. Tarlecki, editors, Algebra and coalgebra in com- puter science, volume 5728 of LNAI, pages 236250. Springer. D. Genova and N. Jonoska. 2006. Topological prop- erties of forbidding-enforcing systems. Journal of Automata, Languages and Combinatorics, 11(4):375 398. J. M. Howie. 1995. Fundamentals of Semigroup Theory. Oxford University Press. J. Kozik. 2005. Conditional densities of regular lan- guages. Electronic Notes in Theoretical Computer Sci- ence, 14. J. Kozik. 2006. Decidability of relative density in Chom- sky hierarchy of languages. Ph.D. thesis, Jagiellonian University, Cracow, Poland. S. Marcus. 1966. Introduction math  ematique ` a la lin- guistique structurale. Dunod. S. Marcus. 1967. Algebraic Linguistics; Analytical Mod- els. Academic Press. E. Nelson. 1980. Categorical and topological aspects of formal languages. Mathematical Systems Theory, 13:255273. A. Nerode. 1958. Linear automaton transformations. Proceedings of the American Mathematical Society, 9(4):541544. A. Salomaa and M. Soittola. 1978. Automata-theoretic aspects of formal power series. Springer, Berlin. V. Vianu. 1977. The Bodnarch uk metric space of lan- guages and the topology of the learning space. In J. Gruska, editor, Mathematical Foundations of Com- puter Science 1977, volume 53 of LNCS, pages 537 542. Springer-Verlag. H. Walter. 1975. Topologies on formal languages. Math- ematical Systems Theory, 9:142158. S. Yu. 1997. Regular languages. In G. Rozenberg and A. Salomaa, editors, Handbook of formal languages, volume 1, pages 41110. Springer, Berlin. 38 </chunk></section></sec_map>